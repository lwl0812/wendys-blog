(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{588:function(t,s,a){t.exports=a.p+"assets/img/01.ccfce20c.png"},589:function(t,s,a){t.exports=a.p+"assets/img/02.f3f868b0.png"},590:function(t,s,a){t.exports=a.p+"assets/img/02_01.36a66a36.png"},591:function(t,s,a){t.exports=a.p+"assets/img/03.a3d042ab.png"},592:function(t,s,a){t.exports=a.p+"assets/img/04.f525e87d.png"},593:function(t,s,a){t.exports=a.p+"assets/img/05.b2b7c07b.png"},594:function(t,s,a){t.exports=a.p+"assets/img/06.06086844.jpg"},595:function(t,s,a){t.exports=a.p+"assets/img/07.e701c98f.png"},596:function(t,s,a){t.exports=a.p+"assets/img/08.49a0639b.png"},597:function(t,s,a){t.exports=a.p+"assets/img/09.034e105c.png"},598:function(t,s,a){t.exports=a.p+"assets/img/10.1584e28f.png"},599:function(t,s,a){t.exports=a.p+"assets/img/11.4e1dc5b4.png"},600:function(t,s,a){t.exports=a.p+"assets/img/12.b47f6086.png"},601:function(t,s,a){t.exports=a.p+"assets/img/13.fc34f27e.png"},602:function(t,s,a){t.exports=a.p+"assets/img/14.3807b7fe.png"},603:function(t,s,a){t.exports=a.p+"assets/img/15.3356a797.png"},604:function(t,s,a){t.exports=a.p+"assets/img/16.4e812303.png"},605:function(t,s,a){t.exports=a.p+"assets/img/17.b3a5c380.png"},606:function(t,s,a){t.exports=a.p+"assets/img/18.0711311e.png"},607:function(t,s,a){t.exports=a.p+"assets/img/19.129d9236.png"},608:function(t,s,a){t.exports=a.p+"assets/img/21.b72735fb.png"},609:function(t,s){t.exports="data:image/png;base64,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"},610:function(t,s,a){t.exports=a.p+"assets/img/23.579c841b.jpg"},611:function(t,s){t.exports="data:image/png;base64,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"},612:function(t,s,a){t.exports=a.p+"assets/img/25.f72e7600.png"},613:function(t,s,a){t.exports=a.p+"assets/img/26.8abe400d.png"},614:function(t,s,a){t.exports=a.p+"assets/img/27.0bb0cd9c.png"},615:function(t,s,a){t.exports=a.p+"assets/img/28.2e8145d4.png"},616:function(t,s){t.exports="data:image/png;base64,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"},617:function(t,s,a){t.exports=a.p+"assets/img/30.81d676cc.png"},618:function(t,s){t.exports="data:image/png;base64,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"},749:function(t,s,a){"use strict";a.r(s);var e=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"浏览器工作原理（学习笔记）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器工作原理（学习笔记）","aria-hidden":"true"}},[this._v("#")]),this._v(" 浏览器工作原理（学习笔记）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-1-示例浏览器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-示例浏览器","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 示例浏览器")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(588),alt:"浏览器使用统计"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-浏览器的主要功能（the-browser-s-main-functionality）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-浏览器的主要功能（the-browser-s-main-functionality）","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 浏览器的主要功能（The browser's main functionality）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(589),alt:"浏览器的主要功能"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("输入 URI 的地址栏")]),t._v(" "),a("li",[t._v("回退、前进按钮")]),t._v(" "),a("li",[t._v("网址收藏")]),t._v(" "),a("li",[t._v("刷新和停止按钮")]),t._v(" "),a("li",[t._v("首页按钮")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("地址栏")]),this._v(" "),s("li",[this._v("状态栏")]),this._v(" "),s("li",[this._v("工具栏")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-3-浏览器的高层架构（the-browser-s-high-level-structure）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-浏览器的高层架构（the-browser-s-high-level-structure）","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3 浏览器的高层架构（The browser's high level structure）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(590),alt:"img"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("用户界面\n"),a("blockquote",[a("p",[t._v("包含地址栏、回退和前进按钮、网址收藏等。除了展示请求到的资源的主窗口，其他都是用户界面。")])])]),t._v(" "),a("li",[t._v("浏览器引擎\n"),a("blockquote",[a("p",[t._v("请求和操作渲染引擎的接口")])])]),t._v(" "),a("li",[t._v("渲染引擎\n"),a("blockquote",[a("p",[t._v("负责展示请求的资源。比如说，请求到的资源是 HTML，渲染引擎就负责解析 HTML 和 CSS，然后将解析后的内容展示在屏幕上。")])])]),t._v(" "),a("li",[t._v("网络\n"),a("blockquote",[a("p",[t._v("网络调用，如 HTTP 请求。它有跨平台的独立接口，且每个平台都有自己的底层实现方式。")])])]),t._v(" "),a("li",[t._v("用户界面后端\n"),a("blockquote",[a("p",[t._v("绘制基本的窗体小部件，如组合框、视窗。它显示一个非平台特定的泛型界面。在底层，它使用操作系统的用户界面方法。")])])]),t._v(" "),a("li",[t._v("JS 解析器\n"),a("blockquote",[a("p",[t._v("解析和执行 JS 代码")])])]),t._v(" "),a("li",[t._v("数据存储\n"),a("blockquote",[a("p",[t._v("持久层。浏览器需要它来存储硬盘上的各种数据，如 cookies。新的 HTML 规范（HTML5）定义了 "),a("em",[t._v("网页数据库")]),t._v(" —— 浏览器中的完整（轻量）的数据库。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(591),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("浏览器主要组成部分示意图")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-渲染引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-渲染引擎","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 渲染引擎")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-1-渲染引擎（the-rendering-engine）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-渲染引擎（the-rendering-engine）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 渲染引擎（The rendering engine）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-2-主流程（the-main-flow）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-主流程（the-main-flow）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 主流程（The main flow）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(592),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-3-主流程示例（main-flow-examples）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-主流程示例（main-flow-examples）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.3 主流程示例（Main flow examples）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(593),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("Webkit 主流程")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(594),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("Mozilla Gecko 渲染引擎主流程")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-4-解析和-dom-树构建（parsing-and-dom-tree-construction）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-解析和-dom-树构建（parsing-and-dom-tree-construction）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4 解析和 DOM 树构建（Parsing and DOM tree construction）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-4-1-解析（parsing-general）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-解析（parsing-general）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1 解析（Parsing-General）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(595),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("数学表达式树节点")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-1-1-语法（grammars）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-1-语法（grammars）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1.1 语法（Grammars）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("解析基于文档所遵循的语法规则——编写它的语言或形式。每种可编译的形式必须包含确定的语法——由词汇和语法规则组成。这叫作 "),s("strong",[this._v("上下文无关语法")]),this._v("。人类语言并不是这样的，所以不能通过传统的解析技术来解析。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-1-2-词法分析器（parser-lexer-combination）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-2-词法分析器（parser-lexer-combination）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1.2 词法分析器（Parser-Lexer combination）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(596),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("从源文档到解析树的过程")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-1-3-翻译（translation）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-3-翻译（translation）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1.3 翻译（Translation）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(597),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("编译流程")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-1-4-解析举例（parsing-example）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-4-解析举例（parsing-example）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1.4 解析举例（Parsing example）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 "),s("em",[this._v("数学表达式树节点")]),this._v(" 图中，已经通过数学表达式构建过一个解析树。现在定义一个简单的数学语言，然后看一下解析过程。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("blockquote",[a("ol",[a("li",[t._v("语法构建块是表达式、术语、操作。")]),t._v(" "),a("li",[t._v("这个语言可包含任何数量的表达式。")]),t._v(" "),a("li",[t._v("一个表达式被定义为：一个术语后面跟着一个操作，操作后面跟着另一个术语。")]),t._v(" "),a("li",[t._v("一个操作就是一个加号或一个减号")]),t._v(" "),a("li",[t._v("一个术语是一个整数或一个表达式。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-1-5-词汇和语法的正式定义（formal-definitions-for-vocabulary-and-syntax）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-5-词汇和语法的正式定义（formal-definitions-for-vocabulary-and-syntax）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1.5 词汇和语法的正式定义（Formal definitions for vocabulary and syntax）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("整数（INTEGER） : 0|[1-9][0-9]*  \n加法（PLUS）    : +  \n减法（MINUS）   : -  \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("表达式（expression） :=  术语（term）     操作（operation）    术语（term）\n操作（operation）    :=  加法（PLUS）   | 减法（MINUS）\n术语（term）         :=  整数（INTEGER）| 表达式（expression）\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-1-6-解析器种类（types-of-parsers）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-6-解析器种类（types-of-parsers）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1.6 解析器种类（Types of parsers）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(598),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-1-7-自动化解析器（generating-parsers-automatically）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-7-自动化解析器（generating-parsers-automatically）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.1.7 自动化解析器（Generating parsers automatically）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-4-2-html-解析器（html-parser）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-html-解析器（html-parser）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2 HTML 解析器（HTML Parser）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-1-html-语法定义（the-html-grammar-definition）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-1-html-语法定义（the-html-grammar-definition）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.1 HTML 语法定义（The HTML grammar definition）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-2-非上下文无关语法（not-a-context-free-grammar）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-2-非上下文无关语法（not-a-context-free-grammar）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.2 非上下文无关语法（Not a context free grammar）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-3-html-文档类型声明（html-dtd）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-3-html-文档类型声明（html-dtd）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.3 HTML 文档类型声明（HTML DTD）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-4-dom（文档对象模型）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-4-dom（文档对象模型）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.4 DOM（文档对象模型）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Hello World."),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("example.png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(599),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-5-解析算法（the-parsing-algorithm）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-5-解析算法（the-parsing-algorithm）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.5 解析算法（The parsing algorithm）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("语言的宽容特性")]),this._v(" "),s("li",[this._v("浏览器具有传统的容错能力，以支持众所周知的无效 HTML 案例。")]),this._v(" "),s("li",[this._v('解析过程是可重入的（reentrant）。通常，在解析过程中，源是不会改变的，但是在 HTML 中，脚本元素包含 "document.write" 可以增加额外的标签，所以解析过程实际改变了输入的内容。')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(600),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("HTML 解析流程")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-6-分词算法（the-tokenization-algorithm）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-6-分词算法（the-tokenization-algorithm）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.6 分词算法（The tokenization algorithm）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    Hello world.\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(601),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-7-树的构建算法（tree-construction-algorithm）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-7-树的构建算法（tree-construction-algorithm）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.7 树的构建算法（Tree construction algorithm）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    Hello world.\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(602),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("html 的树构建")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-8-解析结束的操作（actions-when-the-parsing-is-finished）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-8-解析结束的操作（actions-when-the-parsing-is-finished）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.8 解析结束的操作（Actions when the parsing is finished）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-2-9-浏览器容错（browsers-error-tolerance）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-9-浏览器容错（browsers-error-tolerance）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.2.9 浏览器容错（Browsers error tolerance）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mytag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mytag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    Really lousy html.\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("blockquote",[a("p",[t._v("解析器将分词的输入解析成文档，构建文档树。如果这个文档结构良好，那么解析文档是很简单的。然而，我们不得不处理许多结构不是很好的文档，所以解析器不得不容错。\n我们得至少注意以下这些错误条件：")]),t._v(" "),a("ul",[a("li",[t._v("1、明确禁止在外部标签中添加的元素"),a("br"),t._v("\n在这种情况下，我们应该闭合这些禁止添加元素的标签，然后再添加。")]),t._v(" "),a("li",[t._v("2、不允许直接添加元素"),a("br"),t._v("\n这可能是这样的，写文档的人忘记了一些中间的标签（或者这些中间标签是可选的）。"),a("br"),t._v("\n这些标签可能是：HTML BODY TBODY TR TD LI （还有吗？）")]),t._v(" "),a("li",[t._v("3、将块级元素嵌套在行内元素中。闭合所有的块级元素旁的行内元素。")]),t._v(" "),a("li",[t._v("4、如果上面的都没用，闭合所有的元素，除非允许添加元素和忽略标签。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("使用 </br> 代替 <br>")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("if (t->isCloseTag(brTag) && m_document->inCompatMode()) {\n  reportError(MalformedBRError);\n  t->beginTag = true;\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("注意：这些错误处理是在内部进行的，不会对用户显示。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("混乱的表格")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("inner table"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("outer table"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("outer table"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("inner table"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("if (m_inStrayTableContent && localName == tableTag)\n  popBlock(tableTag);\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("嵌套表单元素")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("if (!m_currentFormElement) {\n  m_currentFormElement = new HTMLFormElement(formTag, m_document);\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("很深的标签层级")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("// www.liceo.edu.mx 这个网站将近有 1500 个标签嵌套，大多是一连串的 <b> 标签嵌套。\n// 我们只允许最多 20 个相同类型的标签嵌套，其他的会被忽略。\n\nbool HTMLParser::allowNestedRedundantTag(const AtomicString& tagName)\n{\n  unsigned i = 0;\n  for (HTMLStackElem * curr = m_blockStack;\n     i < cMaxRedundantTagDepth && curr && curr -> tagName == tagName;\n  curr = curr->next, i++) { }\n  return i != cMaxRedundantTagDepth;\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("html 或 body 闭合标签的位置放错")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("支持破碎的 html\n我们不会闭合 body 标签，因为一些愚蠢的网页会在文档结束时闭合它。\n我们依靠 end() 方法来闭合。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("if (t->tagName == htmlTag || t->tagName == bodyTag )\n  return;\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-4-3-css-解析（css-parsing）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-css-解析（css-parsing）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.3 CSS 解析（CSS parsing）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('comment\t\t\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\/\nnum\t\t    [0-9]+|[0-9]*"."[0-9]+ // 匹配 num，不知道为什么要加 "."\nnonascii\t[\\200-\\377]\nnmstart\t\t[_a-z]|{nonascii}|{escape}\nnmchar\t\t[_a-z0-9-]|{nonascii}|{escape}\nname\t\t{nmchar}+\nident\t\t{nmstart}{nmchar}*\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("ruleset\n  : selector [ ',' S* selector ]*\n    '{' S* declaration [ ';' S* declaration ]* '}' S*\n  ;\nselector\n  : simple_selector [ combinator selector | S+ [ combinator selector ] ]\n  ;\nsimple_selector\n  : element_name [ HASH | class | attrib | pseudo ]*\n  | [ HASH | class | attrib | pseudo ]+\n  ;\nclass\n  : '.' IDENT\n  ;\nelement_name\n  : IDENT | '*'\n  ;\nattrib\n  : '[' S* IDENT S* [ [ '=' | INCLUDES | DASHMATCH ] S*\n    [ IDENT | STRING ] S* ] ']'\n  ;\npseudo\n  : ':' [ IDENT | FUNCTION S* [IDENT S*] ')' ]\n  ;\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("div.error, a.error {\n  color:red;\n  font-weight:bold;\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("ruleset\n  : selector [ ',' S* selector ]*\n    '{' S* declaration [ ';' S* declaration ]* '}' S*\n  ;\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-3-1-webkit-css-解析器（webkit-css-parser）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-1-webkit-css-解析器（webkit-css-parser）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.3.1 Webkit CSS 解析器（Webkit CSS parser）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(603),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("解析 CSS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-4-4-解析脚本（parsing-scripts）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-4-解析脚本（parsing-scripts）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.4 解析脚本（Parsing scripts）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-4-5-处理脚本和样式表的顺序（the-order-of-processing-scripts-and-style-sheets）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-5-处理脚本和样式表的顺序（the-order-of-processing-scripts-and-style-sheets）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.5 处理脚本和样式表的顺序（The order of processing scripts and style sheets）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-5-1-脚本（scripts）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-5-1-脚本（scripts）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.5.1 脚本（Scripts）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-5-2-预解析（speculative-parsing）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-5-2-预解析（speculative-parsing）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.5.2 预解析（Speculative parsing）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("注意：预解析器不会改变 DOM 树，DOM 树还是会留给主解析器，它只会解析外部资源的引用，如外部脚本、样式和图片等。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-4-5-3-样式表（style-sheets）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-5-3-样式表（style-sheets）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4.5.3 样式表（Style sheets）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-5-渲染树构建（render-tree-construction）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-渲染树构建（render-tree-construction）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5 渲染树构建（Render tree construction）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("class RenderObject{\n  virtual void layout();\n  virtual void paint(PaintInfo);\n  virtual void rect repaintRect();\n  Node* node;  // the DOM node\n  RenderStyle* style;  // the computed style\n  RenderLayer* containgLayer; // the containing z-index layer\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("RenderObject* RenderObject::createObject(Node* node, RenderStyle* style)\n{\n  Document* doc = node->document();\n  RenderArena* arena = doc->renderArena();\n  ...\n  RenderObject* o = 0;\n\n  switch (style->display()) {\n    case NONE:\n      break;\n    case INLINE:\n      o = new (arena) RenderInline(node);\n      break;\n    case BLOCK:\n      o = new (arena) RenderBlock(node);\n      break;\n    case INLINE_BLOCK:\n      o = new (arena) RenderBlock(node);\n      break;\n    case LIST_ITEM:\n      o = new (arena) RenderListItem(node);\n      break;\n   ...\n  }\n\n  return o;\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-5-1-渲染树与-dom-树的关系（the-render-tree-relation-to-the-dom-tree）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-渲染树与-dom-树的关系（the-render-tree-relation-to-the-dom-tree）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.1 渲染树与 DOM 树的关系（The render tree relation to the DOM tree）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(604),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("渲染树和与之对应的 DOM 树，Viewport 是初始的包含块。在 Webkit中，Viewport 是 RenderView 对象。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-5-2-构建树的过程（the-flow-of-constructing-the-tree）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-构建树的过程（the-flow-of-constructing-the-tree）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.2 构建树的过程（The flow of constructing the tree）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v('在 Firefox 中，构建过程表现为为 DOM 的更新注册一个监听器（listener），然后将帧的创建委派给 "帧构建器"，构建器会分解样式（见下面的'),s("a",{attrs:{href:"#2.5.3-%E6%A0%B7%E5%BC%8F%E8%AE%A1%E7%AE%97"}},[this._v("样式计算")]),this._v("），创建帧。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-5-3-样式计算（style-computation）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-样式计算（style-computation）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3 样式计算（Style Computation）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("1、样式数据的结构庞大，包含了许多的样式属性，可能会引起内存问题。")]),this._v(" "),s("li",[this._v("2、如果没有优化，那么为每个元素查找匹配规则会导致性能问题。为每个元素查找匹配遍历整个规则表是一项繁重的任务。\n选择器可以有复杂的结构，这会导致匹配过程会从看上去有希望的路径开始匹配，而实际上却是无效的，然后再去尝试新的匹配路径。")]),this._v(" "),s("li",[this._v("3、应用规则涉及非常复杂的级联规则，这些规则定义了规则的层次结构。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[this._v("div div div div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("{")]),this._v("\n  // ...\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("}")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("应用规则涉及非常复杂的级联规则，这些规则定义了规则的层次结构。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-1-共享样式数据（sharing-style-data）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-1-共享样式数据（sharing-style-data）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.1 共享样式数据（Sharing style data）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("1、这些元素必须在相同的鼠标状态下（比如，不能一个是 :hover 状态，其他的不是）")]),t._v(" "),a("li",[t._v("2、元素不应该有 ID")]),t._v(" "),a("li",[t._v("3、标签名称应该能匹配")]),t._v(" "),a("li",[t._v("4、class 属性应该能匹配")]),t._v(" "),a("li",[t._v("5、映射属性集必须完全相同")]),t._v(" "),a("li",[t._v("6、link 状态必须匹配")]),t._v(" "),a("li",[t._v("7、focus 状态必须匹配")]),t._v(" "),a("li",[t._v("8、元素不能受到属性选择器的影响，影响被定义为可匹配到使用了元素中的任何属性的属性选择器。")]),t._v(" "),a("li",[t._v("9、元素不能存在行内样式属性")]),t._v(" "),a("li",[t._v("10、不能使用兄弟选择器。WebCore 遇到兄弟选择器时会抛出一个全局开关，为整个文档关闭样式共享。这些选择器包括：+ 选择器，:first-child 和 :last-child 等。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-2-firefox-规则树（firefox-rule-tree）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-2-firefox-规则树（firefox-rule-tree）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.2 Firefox 规则树（Firefox rule tree）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(605),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("Firefox 样式上下文树")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(606),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-2-1-分结构（division-into-structs）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-2-1-分结构（division-into-structs）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.2.1 分结构（Division into structs）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-2-2-使用规则树计算样式上下文（computing-the-style-contexts-using-the-rule-tree）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-2-2-使用规则树计算样式上下文（computing-the-style-contexts-using-the-rule-tree）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.2.2 使用规则树计算样式上下文（Computing the style contexts using the rule tree）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("div1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        this is a "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("big"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" big error "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        this is also a\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("big"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" very  big  error"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" error\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("div2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("another error"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("1.  div {\n      margin: 5px;\n      color: black;\n    }\n2.  .err {\n      color: red;\n    }\n3.  .big {\n      margin-top: 3px;\n    }\n4.  div span {\n      margin-bottom: 4px;\n    }\n5.  #div1 {\n      color: blue;\n    }\n6.  #div2 {\n      color: green;\n    }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(607),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("规则树（右侧）和上下文树（左侧）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("上下文树")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(608),alt:"img"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Verdana"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bold"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("首先，重要的高优先级的规则。（这些规则优先应用，因为其他属性会依赖于它们，如 display）")]),this._v(" "),s("li",[this._v("其次，高优先级重要的规则。")]),this._v(" "),s("li",[this._v("然后，普通优先级不重要的规则。")]),this._v(" "),s("li",[this._v("最后，普通优先级重要的规则。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("总结一下，共享样式对象（全部或部分结构）解决了问题 "),s("a",{attrs:{href:"#%E6%A0%B7%E5%BC%8F%E8%AE%A1%E7%AE%97%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%B8%80%E4%BA%9B%E9%9A%BE%E9%A2%98"}},[this._v("1")]),this._v(" 和 "),s("a",{attrs:{href:"#%E6%A0%B7%E5%BC%8F%E8%AE%A1%E7%AE%97%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%B8%80%E4%BA%9B%E9%9A%BE%E9%A2%98"}},[this._v("3")]),this._v("。Firefox 的规则树对于按正确顺序应用属性也很有帮助。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-3-操作规则以便轻松匹配（manipulating-the-rules-for-an-easy-match）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-3-操作规则以便轻松匹配（manipulating-the-rules-for-an-easy-match）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.3 操作规则以便轻松匹配（Manipulating the rules for an easy match）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("CSS 规则，外部或内部样式表")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("行内样式属性")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("HTML 视觉属性（映射到对应的样式规则）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bgcolor")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("blue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("正如之前提到过的问题 "),s("a",{attrs:{href:"#%E6%A0%B7%E5%BC%8F%E8%AE%A1%E7%AE%97%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%B8%80%E4%BA%9B%E9%9A%BE%E9%A2%98"}},[this._v("2")]),this._v("，css 规则匹配更加棘手。\n为了解决这个问题，规则被改成更加容易访问。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p.error")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#messageDiv")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("50px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("an error occurred "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v(" messageDiv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("this is a message"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("table div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-4-按正确的层级顺序应用规则（applying-the-rules-in-the-correct-cascade-order）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-4-按正确的层级顺序应用规则（applying-the-rules-in-the-correct-cascade-order）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.4 按正确的层级顺序应用规则（Applying the rules in the correct cascade order）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-4-1-样式表层叠顺序（style-sheet-cascade-order）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-4-1-样式表层叠顺序（style-sheet-cascade-order）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.4.1 样式表层叠顺序（Style sheet cascade order）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("浏览器声明（Browser declarations）")]),t._v(" "),a("li",[t._v("用户的标准声明（User normal declarations）")]),t._v(" "),a("li",[t._v("作者的标准声明（Author normal declarations）")]),t._v(" "),a("li",[t._v("作者的重要声明（Author important declarations）")]),t._v(" "),a("li",[t._v("用户的重要声明（User important declarations）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-4-2-指定顺序（specifity）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-4-2-指定顺序（specifity）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.4.2 指定顺序（Specifity）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v('如果声明是来自 "style" 属性，而不是来自选择器规则，就加1，否则就加0（=a）')]),this._v(" "),s("li",[this._v("累加选择器中 ID 属性的数量（=b）")]),this._v(" "),s("li",[this._v("累加选择器中的其他属性和伪类的数量（=c）")]),this._v(" "),s("li",[this._v("累加选择器中的元素名和伪元素的数量（=d）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v(' *             {}  /* a=0 b=0 c=0 d=0 -> specificity = 0,0,0,0 */\n li            {}  /* a=0 b=0 c=0 d=1 -> specificity = 0,0,0,1 */\n li:first-line {}  /* a=0 b=0 c=0 d=2 -> specificity = 0,0,0,2 */\n ul li         {}  /* a=0 b=0 c=0 d=2 -> specificity = 0,0,0,2 */\n ul ol+li      {}  /* a=0 b=0 c=0 d=3 -> specificity = 0,0,0,3 */\n h1 + *[rel=up]{}  /* a=0 b=0 c=1 d=1 -> specificity = 0,0,1,1 */\n ul ol li.red  {}  /* a=0 b=0 c=1 d=3 -> specificity = 0,0,1,3 */\n li.red.level  {}  /* a=0 b=0 c=2 d=1 -> specificity = 0,0,2,1 */\n #x34y         {}  /* a=0 b=1 c=0 d=0 -> specificity = 0,1,0,0 */\n style=""          /* a=1 b=0 c=0 d=0 -> specificity = 1,0,0,0 */\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-5-3-4-3-规则排序（sorting-the-rules）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-4-3-规则排序（sorting-the-rules）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.3.4.3 规则排序（Sorting the rules）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("static bool operator >(CSSRuleData& r1, CSSRuleData& r2)\n{\n  int spec1 = r1.selector()->specificity();\n  int spec2 = r2.selector()->specificity();\n  return (spec1 == spec2) : r1.position() > r2.position() : spec1 > spec2; \n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-5-4-渐进的过程（gradual-process）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-4-渐进的过程（gradual-process）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.5.4 渐进的过程（Gradual process）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-6-布局（layout）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-布局（layout）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6 布局（Layout）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-6-1-脏值系统（dirty-bit-system）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-1-脏值系统（dirty-bit-system）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6.1 脏值系统（Dirty bit system）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-6-2-全局和递增布局（global-and-incremental-layout）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-2-全局和递增布局（global-and-incremental-layout）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6.2 全局和递增布局（Global and incremental layout）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("1、会影响到所有渲染器的全局样式改变，比如字体大小的改变。")]),this._v(" "),s("li",[this._v("2、屏幕大小调整。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(609),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("递增布局——只有脏的渲染器及其子代会被布局")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-6-3-异步和同步布局（asynchronous-and-synchronous-layout）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-3-异步和同步布局（asynchronous-and-synchronous-layout）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6.3 异步和同步布局（Asynchronous and Synchronous layout）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-6-4-优化（optimizations）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-4-优化（optimizations）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6.4 优化（Optimizations）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-6-5-布局过程（the-layout-process）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-5-布局过程（the-layout-process）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6.5 布局过程（The layout process）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("ol",[a("li",[t._v("父渲染器决定自己的宽度")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("父渲染器遍历子渲染器，然后")])]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("放置子渲染器（设置它的x和y）")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("如有需要，调用子渲染器的layout（布局）方法——它们是脏的或者我们在全局布局中，或者其他某些原因——这会计算子渲染器的高度。")])])])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[t._v("父渲染器使用子渲染器的高度、外边距、内边距的累加高度来设置自己的高度——父渲染器的父渲染器也会使用这个高度。")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"4"}},[a("li",[t._v("设置脏值为false。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-6-6-宽度计算（width-calculation）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-6-宽度计算（width-calculation）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6.6 宽度计算（Width calculation）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 30%")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("容器的宽度是容器可用宽度（availableWidth）和0的最大值。在上面这个例子中，可用宽度就是内容宽度（contentWidth），计算方式如下：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clientWidth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("paddingLeft")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("paddingRight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("元素的宽就是样式属性“width”的值，这个值是一个相对值，通过计算父容器的宽度的百分比得到。")]),this._v(" "),s("li",[this._v("然后添加横向边和内边距（horizontal borders and paddings）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-6-7-折行（line-breaking）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-7-折行（line-breaking）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.6.7 折行（Line Breaking）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-7-绘制（painting）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-绘制（painting）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.7 绘制（Painting）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-7-1-全局和递增（global-and-incremental）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-1-全局和递增（global-and-incremental）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.7.1 全局和递增（Global and Incremental）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-7-2-绘制顺序（the-painting-order）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-2-绘制顺序（the-painting-order）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.7.2 绘制顺序（The painting order）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("background color（背景颜色）")]),t._v(" "),a("li",[t._v("background image（背景图片）")]),t._v(" "),a("li",[t._v("border（边）")]),t._v(" "),a("li",[t._v("children（子级）")]),t._v(" "),a("li",[t._v("outline（轮廓）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-7-3-firefox-排列列表（firefox-display-list）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-3-firefox-排列列表（firefox-display-list）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.7.3 Firefox 排列列表（Firefox display list）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-7-4-webit-矩形存储（webkit-rectangle-storage）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-4-webit-矩形存储（webkit-rectangle-storage）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.7.4 Webit 矩形存储（Webkit rectangle storage）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-8-动态改变（dynamic-changes）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-动态改变（dynamic-changes）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.8 动态改变（Dynamic changes）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-9-渲染引擎线程（the-rendering-engine-s-threads）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-渲染引擎线程（the-rendering-engine-s-threads）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.9 渲染引擎线程（The rendering engine's threads）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-9-1-事件循环（event-loop）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-1-事件循环（event-loop）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.9.1 事件循环（Event loop）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("while (!mExiting)\n    NS_ProcessNextEvent(thread);\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-10-css2-视觉模型（css2-visual-model）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-css2-视觉模型（css2-visual-model）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10 CSS2 视觉模型（CSS2 visual model）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-10-1-画布（the-canvas）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-1-画布（the-canvas）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.1 画布（The canvas）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-10-2-css-盒模型（css-box-model）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-2-css-盒模型（css-box-model）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.2 CSS 盒模型（CSS Box model）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(610),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("CSS2 盒模型*")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("block   -- 生成一个块级盒子\ninline  -- 生成一个或多个行内盒子\nnone    -- 不会生成盒子\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-10-3-定位方案（positioning-scheme）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-3-定位方案（positioning-scheme）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.3 定位方案（Positioning scheme）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("Normal —— 对象根据在文档中的位置排列——对象在渲染树中的位置和在 DOM 树中的位置是一样的，并且根据盒子的类型和大小来布局。")]),this._v(" "),s("li",[this._v("Float —— 对象显示按正常流布局，然后尽可能地往左或右移动。")]),this._v(" "),s("li",[this._v("Absolute —— 对象在渲染树中的位置和 DOM 树中的位置完全不一样。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("static 和 normal 是正常流定位")]),this._v(" "),s("li",[this._v("absolute 和  fixed 是绝对定位")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("盒子类型（Box type）")]),this._v(" "),s("li",[this._v("盒子大小（Box dimensions）")]),this._v(" "),s("li",[this._v("位置方案（Position scheme）")]),this._v(" "),s("li",[this._v("其他信息——比如图片大小和屏幕大小")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-10-4-盒子类型（box-types）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-4-盒子类型（box-types）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.4 盒子类型（Box types）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(611),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("块级盒子")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(612),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("行内盒子")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(613),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("块级和行内盒子排版")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(614),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("行")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-10-5-定位（positioning）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-5-定位（positioning）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.5 定位（Positioning）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-10-5-1-相对定位（relative）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-5-1-相对定位（relative）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.5.1 相对定位（Relative）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(615),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("相对定位")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-10-5-2-浮动（floats）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-5-2-浮动（floats）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.5.2 浮动（Floats）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),a("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("images/image.gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Lorem ipsum dolor sit amet, consectetuer...\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(616),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("浮动")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h5",{attrs:{id:"_2-10-5-3-（绝对和固定定位）absolute-and-fixed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-5-3-（绝对和固定定位）absolute-and-fixed","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.5.3 （绝对和固定定位）Absolute and fixed")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(617),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("固定定位")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("注意：即使文档滚动了，固定盒子也不会移动！")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-10-6-分层呈现（layered-representation）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-6-分层呈现（layered-representation）","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.10.6 分层呈现（Layered representation）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("P")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("z-index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("z-index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" green"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(618),alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("固定位置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"参考："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考：","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考：")])}],n=a(1),r=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("主流浏览器：Internet Explorer, Firefox, Safari, Chrome and Opera")]),t._v(" "),a("p",[t._v("示例浏览器：Firefox、Chrome（开源）和 Safari（部分开源）")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://gs.statcounter.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器使用统计"),a("OutboundLink")],1)]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("浏览器的用户界面：")]),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("HTML5 规范列出了浏览器的几种通用元素：")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),a("p",[t._v("浏览器的组成部分：")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("值得注意的是，chrome 浏览器有多个渲染引擎实例——每个 tab 标签页一个。每个 tab 标签页都是一个独立的进程。")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("渲染引擎负责渲染，将请求到的内容呈现到屏幕上。")]),t._v(" "),a("p",[t._v("默认情况下，渲染引擎可显示 HTML、XML文档和图片。也可通过插件（浏览器扩展程序）显示其他类型。比如，可通过 PDF 阅读器插件显示 PDF 文件。")]),t._v(" "),t._m(15),t._v(" "),a("p",[t._v("渲染引擎一开始从网络层请求文档内容。")]),t._v(" "),a("p",[t._v("接下来是以下的基本流程：")]),t._v(" "),t._m(16),t._v(" "),a("p",[t._v('渲染引擎先解析 HTML，将标签转换成树的节点——叫作"内容树"。然后解析样式数据，包括外联样式和内联样式。样式信息和 HTML 中的可视指令一起用于创建另一棵树——渲染树。')]),t._v(" "),a("p",[t._v("渲染树包含具有可视属性（如颜色和尺寸）的矩形。矩形按正确的顺序显示在屏幕上。")]),t._v(" "),a("p",[t._v('渲染树构建完成后，就进入"布局"流程。也就是给每个节点分配正确的坐标——节点应该显示在屏幕上的哪个位置。下一步就是绘制——将遍历渲染树，通过用户界面（UI）后端层绘制每个节点。')]),t._v(" "),a("p",[t._v("重要的是要理解这是一个循序渐进的过程。为了更好的用户体验，渲染引擎将尽可能快地在屏幕上呈现内容。它不会等到所有的 HTML 都解析完成才开始构建和布局渲染树。当程序还在持续处理来自网络层的内容时，它已经解析和呈现了部分内容。")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("由于解析是渲染引擎中非常重要的一个进程，所以我们会稍微深入讲一下。首先介绍下解析。")]),t._v(" "),a("p",[t._v("解析文档就是将文档转换成某种有意义的——对代码来说可以理解和使用的——结构。解析的结果通常是代表文档结构的节点树。通常叫作解析树或语法树。")]),t._v(" "),a("p",[t._v("例如，解析 2 + 3 - 1，将返回如下树：")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),a("p",[t._v("解析可分为两个子进程——词法分析和语法分析。")]),t._v(" "),a("p",[t._v("词法分析就是将输入内容分解成词法单元的过程。词法单元就是语言词汇——有效构建块的集合。在人类语言中，词法单元由那种语言的词典中出现的单词所组成。")]),t._v(" "),a("p",[t._v("语法分析就是语言的语法规则的应用。")]),t._v(" "),a("p",[t._v("解析器通常将工作分配给两个不同的部件——词法分析器（有时也叫分词器），负责将输入内容分解成有效的词法单元；解析器，负责根据语法规则分析文档结构来构建解析树，")]),t._v(" "),a("p",[t._v("词法分析器知道如何丢弃无关的字符，如空格和换行。")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),a("p",[t._v("解析的过程是不断重复的。解析器通常会向词法分析器查询一个新的词法单元，然后将这个词法单元与语法规则匹配，如果匹配到了，就将与这个词法单元对应的节点添加到解析树，然后继续查询下一个词法单元。")]),t._v(" "),a("p",[t._v("如果匹配不到，解析器会将这个词法单元储存起来，继续查询其他词法单元，直到找到一个能匹配所有储存起来的词法单元的语法规则为止。如果找不到匹配规则，解析器将抛出异常。这就是说文档是无效的，且包含了语法错误。")]),t._v(" "),t._m(31),t._v(" "),a("p",[t._v("很多时候，解析树并不是最终的产物。解析通常用于翻译——将输入文档转换成另一种形式。比如说编译。编译器——将源代码转换成机器代码——首先会将它转换成解析树，然后再将解析树翻译成机器代码文档。")]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),a("p",[t._v("词汇：这个语言可以包含整数、加号和减号。")]),t._v(" "),a("p",[t._v("语法：")]),t._v(" "),t._m(36),t._v(" "),a("p",[t._v('现在来分析下 "2 + 3 - 1"。')]),t._v(" "),a("p",[t._v('第一个匹配到规则的子串是 "2"，根据规则 5，它是一个术语。\n第二个匹配到的是 "2 + 3"，匹配到第三条规则——一个术语后面跟着一个操作，操作后面跟着另一个术语。\n下一个匹配只能是末尾了。"2 + 3 - 1" 是一个表达式，因为我们已经知道 ?2+3? 是一个术语，所以我们有一个术语后面跟着一个操作，后面跟着另一个术语。\n"2 + +" 不能匹配任何规则，所以是无效的输入。')]),t._v(" "),t._m(37),t._v(" "),a("p",[t._v("词汇通常由"),a("a",{attrs:{href:"https://www.regular-expressions.info/",target:"_blank",rel:"noopener noreferrer"}},[t._v("正则表达式"),a("OutboundLink")],1),t._v("表示。")]),t._v(" "),a("p",[t._v("比如，上面的语言可以这样定义：")]),t._v(" "),t._m(38),a("p",[t._v("可以看到，整数是由正则表达式来表示的。")]),t._v(" "),a("p",[t._v("语法通常用一种叫做 "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form",target:"_blank",rel:"noopener noreferrer"}},[t._v("BNF"),a("OutboundLink")],1),t._v(" 的形式来定义。上面的语言可以这样定义：")]),t._v(" "),t._m(39),a("p",[t._v("我们说过，如果一种语言的语法是上下文无关的，就能被常规解析器解析。")]),t._v(" "),a("p",[t._v("上下文无关语法的一种直观定义就是能完全用 BNF 形式表示。")]),t._v(" "),a("p",[t._v("上下文无关语法的正式定义可参考：http://en.wikipedia.org/wiki/Context-free_grammar")]),t._v(" "),t._m(40),t._v(" "),a("p",[t._v("解析器有两种基本类型——自上而下的解析器和自下而上的解析器。")]),t._v(" "),a("p",[t._v("直接的解释就是：自上而下的解析器查找语法的高层结构，然后尝试匹配其中的一个。自下而上的解析器从输入开始，然后逐步地转换成语法规则，从低级规则开始，直到匹配到高级规则为止。")]),t._v(" "),a("p",[t._v("现在来看下这两种解析器如何解析我们的示例。")]),t._v(" "),a("p",[t._v('自上而下的解析器从高级规则开始，它将 "2 + 3" 定义成一个表达式，然后将 "2 + 3 - 1" 定义成一个表达式（表达式定义的过程逐步演化成匹配其他规则，但是起点是高级规则）。')]),t._v(" "),a("p",[t._v("自下而上的解析器会扫描输入内容，直到找到匹配的规则，然后用这个规则去替换匹配的内容。这个过程将一直持续到输入内容的末尾。部分匹配的表达式储存在解析的堆内存中。")]),t._v(" "),t._m(41),t._v(" "),a("p",[t._v("自下而上的解析器也叫作移位解析器。因为输入内容被移到右边（想象一个指示器从输入内容开始不断移到末尾），然后逐渐地变成语法规则。")]),t._v(" "),t._m(42),t._v(" "),a("p",[t._v("有些工具可以自动生成解析器，叫作解析器生成器。给解析器生成器提供语言的语法——词汇和语法规则——它就能生成一个工作解析器。")]),t._v(" "),a("p",[t._v("创建解析器需要深入理解解析，而且手动创建一个优化的解析器也非常不易，所以解析器生成器就非常有用了。")]),t._v(" "),a("p",[t._v("Webkit 使用两种众所周知的解析器生成器——Flex，用于创建分词器；Bison，用于创建解析器（有时候也可能叫做 Lex 和 Yacc）。")]),t._v(" "),a("p",[t._v("Flex 输入是一个包含用正则表达式定义标记的文件。Bison 输入是语言的语法规则和 BNF 形式。")]),t._v(" "),t._m(43),t._v(" "),a("p",[t._v("HTML 解析器负责将 HTML 标记解析成解析树。")]),t._v(" "),t._m(44),t._v(" "),a("p",[t._v("HTML 的词汇和语法规则由 W3C 组织的规范所定义。")]),t._v(" "),t._m(45),t._v(" "),a("p",[t._v("在介绍解析时，提到了语法能通过 BNF 的形式定义。")]),t._v(" "),a("p",[t._v("然而，所有的传统解析器都不适用于 HTML。HTML 不能轻易地由解析器所需的上下文无关语法定义。")]),t._v(" "),a("p",[t._v("定义 HTML 语法有正式的形式——DTD（Document Type Definition 文档类型声明）。但是它不是一种上下文无关语法。")]),t._v(" "),a("p",[t._v("初看之下这非常得奇怪。HTML 非常接近于 XML。有许多的 XML 解析器。还有一种 HTML 的变种——XHTML。所以差异在哪里？")]),t._v(" "),a("p",[t._v('差异在于，HTML 非常的"宽容"，它允许你省略隐式添加的标签，有时还能省略开始或结束的标签。基本上，它是一种"软"语法，相反于 XML 的严格高要求的语法。')]),t._v(" "),a("p",[t._v("表面上看起来是很小的差异，然而却是天差地别。")]),t._v(" "),a("p",[t._v("一方面，这也是为什么 HTML 如此受欢迎——它会原谅你的错误，使网站作者感到更加舒适。另一方面，这使得写范式语法非常得困难。")]),t._v(" "),a("p",[t._v("总得来说，HTML 不能轻易地被传统解析器解析，因为它的语法不是上下文无关语法，也不能被 XML 解析器解析。")]),t._v(" "),t._m(46),t._v(" "),a("p",[t._v("HTML 是用 DTD 形式定义的。这种形式用来定义 "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Standard_Generalized_Markup_Language",target:"_blank",rel:"noopener noreferrer"}},[t._v("SGML"),a("OutboundLink")],1),t._v(" （标准通用标记语言）语言。\n这种形式包含了所有允许的元素的定义，它们的属性和层级。之前已经看到，HTML 文档类型声明不会形成上下文无关语法。")]),t._v(" "),a("p",[t._v("DTD 有很多不同的类型。严格模式是唯一符合规范的，其他形式还包含了对浏览器过去使用的一些标签的支持。目的是向后兼容旧的内容。")]),t._v(" "),t._m(47),t._v(" "),a("p",[t._v("输出树——解析树，就是 DOM 元素和属性节点的树。DOM 是 Document Object Model 的缩写。DOM 是 HTML 文档的对象呈现，也是 HTML 元素与外界（如 JavaScript）的连接接口。")]),t._v(" "),a("p",[t._v("树的根节点是 "),a("a",{attrs:{href:"https://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core.html#i-Document",target:"_blank",rel:"noopener noreferrer"}},[t._v("Document"),a("OutboundLink")],1),t._v("（文档）。")]),t._v(" "),a("p",[t._v("DOM 和 标记有着几乎一对一的关系。例如：")]),t._v(" "),t._m(48),a("p",[t._v("上面内容会被转换成：")]),t._v(" "),t._m(49),t._v(" "),a("p",[t._v("像 HTML 一样，DOM 由 W3C 组织规定。")]),t._v(" "),t._m(50),t._v(" "),a("p",[t._v("如之前所说，HTML 不能被常规的自上而下或自下而上的解析器解析。")]),t._v(" "),a("p",[t._v("原因如下：")]),t._v(" "),t._m(51),t._v(" "),a("p",[t._v("不能使用传统的解析技术，浏览器创建了自定义的解析 HTML 的解析器。")]),t._v(" "),a("p",[t._v("解析算法由 HTML5 规范详细描述。算法包含了两个阶段——分词和树的构建。")]),t._v(" "),a("p",[t._v("分词就是词法分析，将输入解析成标记。在 HTML 中，标记就是开始标签、结束标签、属性名称和属性值。")]),t._v(" "),a("p",[t._v("分词器识别标记，把它给到树构建器，然后继续查找下一个字符，识别下一个标记，直到输入的结束。")]),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),a("p",[t._v("这个算法的输出是一个 HTML 标记。这个算法表现为一个状态机。每个状态消耗输入了的一个或多个字符，然后根据这些字符更新下一个状态。")]),t._v(" "),a("p",[t._v("这个决定受分词状态和树的构建状态所影响。这个算法太复杂，所以不能详细讲解，我们来看一个简单的例子，大致地了解下。")]),t._v(" "),a("p",[t._v("分词下面的 HTML：")]),t._v(" "),t._m(55),a("p",[t._v('初始的状态是 "数据状态"。当遇到 "<" 字符时，状态就变成 "标签打开状态"。遇到 "a-z" 字符时，会创建 "开始标签标记"，状态就变成 "标签名称状态"。\n直到遇到 ">" 这个字符时，这个状态才会结束。每个字符都被添加到这个标记名称下。在我们的例子中，创建的标记就是 "html"。')]),t._v(" "),a("p",[t._v('当遇到 ">" 时，当前的标记会被释放，然后状态变回 "数据状态"。"<body>" 标签也用相同的步骤来解析。现在，"html" 和 "body" 标记都已被释放，状态变回 "数据状态"。\n遇到 "Hello world." 的 "H" 时，会创建和释放一个字符标记。这个过程持续到遇到 "</body>" 的 "<" 字符为止，此时会释放 "Hello world." 的所有字符。')]),t._v(" "),a("p",[t._v('现在又回到了 "标签打开状态"。遇到 "/" 时会创建 "结束标签标记"，然后变成 "标签名称状态"。同样的，这个状态持续到遇到 ">" 这个字符为止。\n然后这个新的标签标记会放释放，再次回到 "数据状态"。"</html>" 标签也会用同样的方式解析。')]),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),a("p",[t._v('当解析器创建好时，Document 对象也创建好了。在树的构建阶段，会改变包含 Document 根节点的 DOM 树，还会添加元素到 DOM 树。每个被分词器释放的节点都将被树构建器加工。\n对于每个标记，规范会定义与它相对应的 DOM 元素，并且为该元素创建这个 DOM 元素。除了将元素添加到 DOM 树中外，还会将元素添加到一个开放元素的堆中。这个堆用于修正嵌套错误和未关闭的元素。\n构建算法也是通过状态机的形式表示的。这些状态叫作"嵌入模式"。')]),t._v(" "),a("p",[t._v("来看一个树构建的过程：")]),t._v(" "),t._m(58),a("p",[t._v('树构建阶段的输入是一系列来自分词阶段的标记。第一个模式是 "初始模式"（initial mode）。接收 html 标记时，模式会转变成 "html 前"（before html）模式，并会对这个模式下的标记进行回收。\n此时，会创建 HTMLHtmlElement 元素，并添加到 根文档对象（root Document object） 中。')]),t._v(" "),a("p",[t._v('之后又会转变成 "head 前"（before head） 状态。当遇到 "body" 标记时，HTMLHeadElement 元素会被隐式地创建，并被添加到 DOM 树，虽然我们没有 "head" 这个标记。')]),t._v(" "),a("p",[t._v('现在我们已经到了 "head 前" 模式，然后要进入到 "head 后"（after head） 模式。\n现在对body 标记进行再加工，创建和插入 HTMLBodyElement 元素，此时又转变成了 "body 内"（in body）模式。\n现在接收 "Hello world." 这个字符串字符标记，第一个字母会使构建器创建和插入一个 文本节点（Text node），其余的字符会被添加到这个节点中。')]),t._v(" "),a("p",[t._v('接收 body 的结束标记时，会转变成 "body 后" （after body）模式。 之后会接收 html 的结束标记，此时会转变成 "body 后后"（after after body） 模式。\n接收到文件的结束标记时，解析也就结束了。')]),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),a("p",[t._v('在这个阶段，浏览器会标记文档是可交互的，然后开始解析"延迟"模式（deferred mode）下的脚本——在文档解析完成后执行。此时，文档状态变成 "完成"，抛出一个 "load" 事件。')]),t._v(" "),a("p",[t._v("关于完整的 HTML5 规范的分词和树构建的算法，可参考：http://www.w3.org/TR/html5/syntax.html#html-parser")]),t._v(" "),t._m(62),t._v(" "),a("p",[t._v('在 HTML 页面上，永远不会出现 "无效语法"（Invalid Syntax）的错误。浏览器会修正它，然后继续运行。')]),t._v(" "),a("p",[t._v("比如下面这段 HTML 代码：")]),t._v(" "),t._m(63),a("p",[t._v('我肯定已经违反了大概100万条规则（"mytag" 不是一个标准的标签，错误的 "div" 和 "p" 元素嵌套等），但是浏览器仍然正确的显示，没有任何抱怨。所以许多的解析器代码都在修正 HTML 作者的错误。')]),t._v(" "),a("p",[t._v("不同浏览器的错误处理出奇得相当一致，虽然现有的 HTML 规范并未对此有规定。像书签、前进/后退按钮，就是浏览器多年发展以来的产物。")]),t._v(" "),a("p",[t._v("有许多周知的无效代码结构，它们在许多网站不断重复，浏览器会尝试用与其他浏览器一致的方式修正它们。")]),t._v(" "),a("p",[t._v("HTML5 规范确实也有定义其中的一些要求。Webkit 在 HTML 解析器种类（HTML parser class）的开头的注释中，很好地总结了这些规范：")]),t._v(" "),t._m(64),t._v(" "),a("p",[t._v("现在来看一些 Webkit 容错的例子：")]),t._v(" "),t._m(65),t._v(" "),a("p",[t._v("有些网站使用 </br> 代替 <br>，为了兼容 IE 和 火狐，Webkit 会像下面这样对待它：")]),t._v(" "),t._m(66),t._m(67),t._v(" "),t._m(68),t._v(" "),a("p",[t._v("混乱的表格，就是一个表格嵌套在另一个表格中，但是没有嵌套在表格的单元格中。")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),t._m(69),a("p",[t._v("Webkit 会将这个层级变成两个兄弟表格。")]),t._v(" "),t._m(70),a("p",[t._v("代码如下：")]),t._v(" "),t._m(71),a("p",[t._v("Webkit 将当前元素内容存在堆中，它会将内部的表格从外部的表格中推出。现在两个表格变成了兄弟表格。")]),t._v(" "),t._m(72),t._v(" "),a("p",[t._v("如果用户将一个表单嵌套在另一个表单中，第二个表单会被忽略掉。")]),t._v(" "),a("p",[t._v("代码：")]),t._v(" "),t._m(73),t._m(74),t._v(" "),a("p",[t._v("看下面的注释，不言而喻：")]),t._v(" "),t._m(75),t._m(76),t._v(" "),a("p",[t._v("再来看一下它的注释：")]),t._v(" "),t._m(77),t._v(" "),t._m(78),a("p",[t._v("所有网页开发者要注意了，除非你想你的代码出现在 Webkit 容错示例中，否则就写结构良好的文档。")]),t._v(" "),t._m(79),t._v(" "),a("p",[t._v("还记得什么是解析的概念吗？不像 HTML，CSS 是上下文无关语法，可以通过之前介绍的解析器解析。\n事实上，CSS 的词法语法和句法语法由 CSS 规范规定，参考：https://www.w3.org/TR/CSS2/grammar.html")]),t._v(" "),a("p",[t._v("来看一些例子：")]),t._v(" "),a("p",[t._v("词法语法（词汇）是通过正则来定义每个标记的。")]),t._v(" "),t._m(80),a("p",[t._v('"ident" 是 "identity" 的缩写，比如一个类名（class name）。 "name" 是一个元素 id（由 # 来引用）。')]),t._v(" "),a("p",[t._v("句法语法由 BNF 来描述。")]),t._v(" "),t._m(81),a("p",[t._v("解释：ruleset 的结构如下：")]),t._v(" "),t._m(82),a("p",[t._v("div.error 和 a.error 是选择器。大括号内的内容会应用到这个 ruleset 上。这个结构会用下面的方式定义：")]),t._v(" "),t._m(83),a("p",[t._v('这就是说，一个 ruleset 就是一个选择器或者多个由逗号和空格分隔的选择器（S 代表空格）。一个 ruleset 包含一个大括号，以及括号内的一个或多个由分号分隔的声明。\n"声明"（declaration）和 "选择器"（selector）由下面的 BNF 定义。')]),t._v(" "),t._m(84),t._v(" "),a("p",[t._v("Webkit 使用 "),a("a",{attrs:{href:"http://taligarsiel.com/Projects/howbrowserswork1.htm#parser_generators",target:"_blank",rel:"noopener noreferrer"}},[t._v("Flex 和 Bison"),a("OutboundLink")],1),t._v(" 解析器生成器从 CSS 语法文件中自动生成解析器。")]),t._v(" "),a("p",[t._v("回忆一下上面对解析器的介绍一节，Bison 创建一个自下而上的移位递减解析器。")]),t._v(" "),a("p",[t._v("Firefox 使用手写的自上而下的解析器。")]),t._v(" "),a("p",[t._v("在两种情况下，CSS 文件都会被解析成 样式表（StyleSheet）对象，每个对象包含 CSS 规则。每个 CSS 规则包含选择器、声明对象和其他与 CSS 语法相对应的对象。")]),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),a("p",[t._v("本章主要会通过 JavaScript 来讲解。")]),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),a("p",[t._v("网络模型是同步的。作者们都希望解析器遇到 <script> 标签时能立即解析和执行。文档解析会处于被阻塞状态，直到脚本执行完毕。")]),t._v(" "),a("p",[t._v("如果是外部脚本，那么先得从网上获取资源——这也是同步的，文档解析会处于被阻塞状态，直到资源获取完毕。")]),t._v(" "),a("p",[t._v('多年来，一直都是这种模型，也是 HTML4 和 HTML5 规范规定的模型。作者可以将脚本标记为"延迟"（defer），这样不会阻塞文档的解析，解析完成后，就会执行。\nHTML5 增加了一个选项，可以把脚本标记成异步的，这样就可以在另一个线程中进行解析和执行。')]),t._v(" "),t._m(90),t._v(" "),a("p",[t._v("Webkit 和 Firefox 都做了这种优化。在执行脚本的过程中，另一个线程解析文档的剩余部分，找出还需要从网上加载哪些资源，然后加载它们。\n这样，资源可以平行加载，总体速度也会更快。")]),t._v(" "),t._m(91),t._v(" "),t._m(92),t._v(" "),a("p",[t._v("样式表有着不同的模型。概念上，看起来样式表不会变成 DOM 树，所以没必要等待和阻塞文档解析。\n但是，在文档解析阶段，脚本会向样式信息问一个问题。如果样式还没加载和解析，脚本会得到错误的答案，显然，这会导致很多的问题。\n这似乎是一个边界情况，但是却相当普遍。")]),t._v(" "),a("p",[t._v("当有样式在加载和解析时，Firefox 会阻塞所有的脚本。Webkit 仅会阻塞这些试图获取特定的样式属性——这些属性可能会受未加载的样式影响——的脚本。")]),t._v(" "),t._m(93),t._v(" "),a("p",[t._v("构建 DOM 树的同时，浏览器还在构建另一个树——渲染树。渲染树由可视元素组成，这些元素按将要展示的顺序排列。它是文档的视觉呈现。\n渲染树的目的是保证内容有序绘制。")]),t._v(" "),a("p",[t._v('Firefox 把渲染树中的元素叫作 "帧"（frames）。')]),t._v(" "),a("p",[t._v('Webkit 把这些元素叫作 "渲染器"（renderer）或 "渲染对象"（render object）。')]),t._v(" "),a("p",[t._v("一个渲染器知道如何布局和绘制自身及其子类。")]),t._v(" "),a("p",[t._v("Webkit 的渲染器对象的基本类—— RenderObject 类的定义如下：")]),t._v(" "),t._m(94),a("p",[t._v("每个渲染器代表了一个矩形区域，与 CSS2 规范定义的节点的 CSS 盒子（盒模型）相对应。它包含了几何信息，如宽、高和位置。")]),t._v(" "),a("p",[t._v('盒子的类型由与节点相对应的 "display" 样式属性决定。')]),t._v(" "),a("p",[t._v('下面的是 Webkit 的代码，通过 "display" 属性决定应该为 DOM 节点生成何种渲染器。')]),t._v(" "),t._m(95),a("p",[t._v("还考虑了元素类型，如表单控件和表格有特殊的帧。")]),t._v(" "),a("p",[t._v("在 Webkit 中，如果一个元素想创建一个特殊的渲染器，那么它会覆写 createRenderer 这个方法。这些渲染器指向包含了非几何信息的样式对象。")]),t._v(" "),t._m(96),t._v(" "),a("p",[t._v("渲染器与 DOM 元素相对应，但并不是一对一的关系。非可视元素不会被插入到渲染树，比如 head 元素。\n还有 display 属性设置为 none 的元素也不会出现在渲染树中（visibility 设置为 hidden 的元素会出现在渲染树中）。")]),t._v(" "),a("p",[t._v("有些 DOM 元素会对应多个可视对象。有些元素结构比较复杂，所以不能用单个矩形来表示。比如，select 元素有3个渲染器，一个渲染区域，一个渲染下拉列表框，一个渲染按钮。\n当文本在一行内显示不下，被拆分成多行时，新行中的文本会被添加到新的渲染器中。")]),t._v(" "),a("p",[t._v("另一个多个渲染器的例子是拆分的 HTML。CSS 规范规定一个行内元素只能包含块级元素或只能包含行内元素。\n如果行内元素既包含了行内元素又包含了块级元素，会创建一个匿名块级渲染器包裹这些行内元素。")]),t._v(" "),a("p",[t._v("有些渲染对象与 DOM 节点一对一对应，但是在树中的位置却不同。浮动和绝对定位的元素脱离了流，放置在树的不同位置，然后映射到实际的帧。它们存在于占位符帧中。")]),t._v(" "),t._m(97),t._v(" "),t._m(98),t._v(" "),t._m(99),t._v(" "),t._m(100),t._v(" "),a("p",[t._v('在 Webkit 中，分解样式和创建渲染器的过程叫作 "附着"（attachment）。每个 DOM 节点都有一个 attach 方法。"附着" 是同步的，节点插入到 DOM 树中会调用新节点的 attach 方法。')]),t._v(" "),a("p",[t._v('渲染树根节点构建时会处理 html 和 body 标签。根渲染对象与 CSS 规范中的包含块——最顶端的包含所有其他块的块——相对应。\n包含块的大小就是视口大小——浏览器窗口展示的区域大小。Firefox 把它叫做 "视口帧"（ViewPortFrame），Webkit 把它叫做 "RenderView"（渲染视口）。\n这就是文档指向的渲染对象。树的其他部分被构建为 DOM 节点插入。')]),t._v(" "),a("p",[t._v("CSS2 关于这个话题的的资料： http://www.w3.org/TR/CSS21/intro.html#processing-model")]),t._v(" "),t._m(101),t._v(" "),a("p",[t._v("构建渲染树需要计算每个渲染对象的可视属性。通过计算每个元素的样式属性来完成。")]),t._v(" "),a("p",[t._v("样式包含了不同来源的样式表，如内联样式元素、HTML 中的可视属性（比如 bgcolor 属性）。后者被转换，匹配 CSS 的样式属性。")]),t._v(" "),a("p",[t._v("样式表来源于浏览器的默认样式表、网页作者提供的样式表、用户样式表——这些样式表由浏览器用户提供（浏览器允许用户定制喜欢的风格，比如，在 Firefox 中，可以在 Firefox fold 中放置一份样式表即可）。")]),t._v(" "),a("p",[t._v("样式计算带来了一些难题")]),t._v(" "),t._m(102),t._v(" "),a("p",[t._v("比如下面的复合选择器：")]),t._v(" "),t._m(103),a("p",[t._v("上面的代码意思就是匹配一个 <div>，它是三个 <div> 的后代。\n假如你想验证这个匹配规则是否适用于某个 <div> 元素，你从树上选某个路径开始验证，你需要遍历节点树去找到三个 <div>，结果却只找到两个，匹配规则并不生效。\n你就得从节点树的另一个路径开始查找。")]),t._v(" "),t._m(104),t._v(" "),a("p",[t._v("我们来看看浏览器怎么解决这些问题：")]),t._v(" "),t._m(105),t._v(" "),a("p",[t._v("Webkit 节点引用样式对象（渲染样式 RenderStyle）。这些对象在某些情况下，可以被节点共享。这些节点是兄弟节点以及：")]),t._v(" "),t._m(106),t._v(" "),t._m(107),t._v(" "),a("p",[t._v("为了更简单的样式计算，Firefox 提供了两种树——规则树和样式上下文树。Webkit 也有样式对象，但是他们不是储存在类似于样式上下文树的树中，它只有 DOM 节点指向相应的样式。")]),t._v(" "),t._m(108),t._v(" "),t._m(109),t._v(" "),a("p",[t._v("样式上下文包含了端值（end values）。值的计算是通过按正确的顺序应用匹配规则，以及执行将它们从逻辑值转换成具体值的操作来完成的。\n比如，如果逻辑值是屏幕的百分百，它会被计算并转换成绝对的单位。规则树的想法相当得聪明。它允许在不同节点间共享这些值，避免重复计算。同时也节省了空间。")]),t._v(" "),a("p",[t._v("所有匹配到的规则都会储存在树中，在一条路径中，越下面的节点拥有越高的优先级。样式上下文树包含了找到的规则匹配的所有路径。规则的储存是惰性的。\n样式上下文树不会一开始就为每个节点进行计算，而是当节点需要被计算时，将计算路径添加到树中。")]),t._v(" "),a("p",[t._v("我们的想法是将树路径看成是词典中的单词。假设我们已经计算好了规则树：")]),t._v(" "),t._m(110),t._v(" "),a("p",[t._v("假设，我们需要在内容树中为其他元素匹配规则，找到的规则（按正确的顺序）是：B - E - I。这个规则已经存在于树中，因为已经计算过 A - B - E - I - L 的路径。现在我们要做的工作就少了。")]),t._v(" "),t._m(111),t._v(" "),a("p",[t._v("样式上下文被分成不同的结构。每个结构都包含了某种分类（如border或color）的样式信息。\n结构中的所有属性（properties）或者是继承的或者是非继承的。继承属性除非在元素上有定义属性，一般会继承父级。\n非继承属性（也叫重置属性）如果未定义，一般会使用默认的。")]),t._v(" "),a("p",[t._v("样式上下文树会帮忙将树中的结构缓存起来（包括计算的端值）。如果下层节点没有为结构提供定义，就用缓存中的上层节点的的结构。")]),t._v(" "),t._m(112),t._v(" "),a("p",[t._v("为某个元素计算样式上下文时，首先会去计算规则树中的路径，或者使用已经存在的路径。然后在路径中应用规则填充新样式上下文中的结构。\n我们从路径的底层节点——优先级最高的节点（通常是最具体的选择器）开始，然后往上遍历上下文树，直到将结构填充完成。\n如果在规则树中没有对该结构的规定，那么我们就可以大幅优化——我们在树中往上找，找到某个节点能完整得规定并指向这个结构——这是最好的优化——因为这整个结构是完全共享的。\n这样节省了端值的计算和内存。如果我们只找到部分定义，那么继续在树中往上找，直到将整个结构填充完整。")]),t._v(" "),a("p",[t._v('如果我们没有找到对该结构的任何定义，假如整个结构是一个"继承"类型，就将该结构指向上下文树的父级结构，在这种情况下，我们也成功共享了结构。\n如果是重置结构，那么将使用默认值。')]),t._v(" "),a("p",[t._v("如果最具体的节点有添加值，那么我们需要进行额外的计算，将这些值转成实际的值，然后将结果储存在树节点中，供子节点使用。")]),t._v(" "),a("p",[t._v("假如一个元素有子节点或兄弟节点，它们指向相同的树节点，那么整个样式上下文（entire style context）可以在它们之间共享。")]),t._v(" "),a("p",[t._v("来看一个例子，")]),t._v(" "),a("p",[t._v("假设有这么一段 HTML 代码：")]),t._v(" "),t._m(113),a("p",[t._v("以及规则如下：")]),t._v(" "),t._m(114),a("p",[t._v("简单来说，我们需要填充两种结构——颜色结构（color struct）和边缘空白结构（margin struct）。颜色只包含一个成员，而边缘包含了四个边。\n规则树看起来如下（节点以节点名——即序号标记）和语法树如下（节点名，指向规则节点）：")]),t._v(" "),t._m(115),t._v(" "),t._m(116),t._v(" "),a("p",[t._v("(感觉原文中的图有点问题，所以改了，如果改错了，请指正，谢谢！)")]),t._v(" "),t._m(117),t._v(" "),a("p",[t._v("假设我们现在解析这段 HTML 代码，遇到第二个 <div> 标签，我们需要为这个节点创建一个样式上下文，然后填充它的样式结构。\n匹配规则时，发现这个 <div> 标签匹配到的规则是 1、2、6，这就是说，在树中已经存在当前元素可以使用的路径，现在仅需要将规则 6（规则树中的 F） 添加到另一个节点中。\n然后创建一个样式上下文，将它存到上下文树中。新的样式上下文将指向规则树中的节点 F。可参考下图。")]),t._v(" "),t._m(118),t._v(" "),a("p",[t._v("现在填充样式结构，从 margin 结构开始，因为最后一个规则节点（F）没有加到 margin 结构中，\n我们可以在树中继续往上找，直到找到之前的节点插入时计算并储存起来的结构，并使用它。\n最后在节点 B 中找到——规定了 margin 规则的最上面的节点。")]),t._v(" "),a("p",[t._v("因为对颜色结构有定义，所以不能使用缓存的结构。因为颜色有一个属性，所以我们不需要在树中填充其他属性。我们将计算端值（end value）——将字符串转成 RGB 等——然后在这个节点中储存计算好的结构。")]),t._v(" "),a("p",[t._v("解析第二个 <span> 元素的工作更加简单。我们匹配规则，发现它指向规则 G，和之前的 <span> 一样。子节点指向了同一个节点，所以可以共享整个样式上下文，指向前一个 span 元素的上下文。")]),t._v(" "),a("p",[t._v("对于包含继承自父级规则的结构，是储存在上下文树中的（color 属性实际上继承的，但是 Firefox 把它当成重置属性，并缓存在规则树中）。")]),t._v(" "),a("p",[t._v("比如，我们给 paragraph 增加了 fonts 规则：")]),t._v(" "),t._m(119),a("p",[t._v("上下文树中 p 元素的子级（child） —— div 元素就可以共享父级的相同 font 结构。前提是 div 元素没有规定 font 规则。")]),t._v(" "),a("p",[t._v("在 Webkit 中没有规则树，所以匹配声明会被遍历4次。")]),t._v(" "),t._m(120),t._v(" "),a("p",[t._v("这就是说，多次出现的属性会根据正确的层级顺序进行解析，明显后者（上下文规则树）胜出。")]),t._v(" "),t._m(121),t._v(" "),t._m(122),t._v(" "),a("p",[t._v("样式规则的来源：")]),t._v(" "),t._m(123),t._v(" "),t._m(124),t._m(125),t._v(" "),t._m(126),t._m(127),t._v(" "),t._m(128),a("p",[t._v("后面两个很容易匹配到，因为它拥有样式属性和 HTML 属性，可以将元素当做 key 来进行映射。")]),t._v(" "),t._m(129),t._v(" "),a("p",[t._v("解析完样式表后，根据选择器，将访问规则添加到其中的某个哈希映射中。\n有ID映射，类名（class name） 映射，标签名（tag name）映射，和一个普通映射包含了其他不属于前面几种分类的选择器。\n如果选择器是 id，就将规则添加到 ID 映射表中，如果是类名，就将规则添加到类名映射表中，以此类推。")]),t._v(" "),a("p",[t._v("这样的操作使得规则匹配更加容易。这样就没必要在每个声明中查找，能从映射表中提取出元素相对应的规则。")]),t._v(" "),a("p",[t._v("这个优化排除了 95% 以上的规则，甚至在匹配过程中都不需要考虑("),a("a",{attrs:{href:"http://taligarsiel.com/Projects/howbrowserswork1.htm#4_1",target:"_blank",rel:"noopener noreferrer"}},[t._v("4.1"),a("OutboundLink")],1),t._v(")。")]),t._v(" "),a("p",[t._v("来看下面的样式规则：")]),t._v(" "),t._m(130),a("p",[t._v("第一个规则将被插入到类名映射表中，第二个插入到ID映射表中，第三个插入到标签名映射表中。")]),t._v(" "),a("p",[t._v("继续看下面的 HTML 片段：")]),t._v(" "),t._m(131),a("p",[t._v('先尝试为 p 元素找到规则，类名映射表中包含了名为 "error" 的 key，在该 key 下可以找到 "p.error" 的规则。\ndiv 元素可以在 ID映射表（key 为 id）和标签名映射表中找到相应的规则。')]),t._v(" "),a("p",[t._v("所以现在唯一的工作就是，找出按 key 提取出的规则中哪些规则是真正匹配的。")]),t._v(" "),a("p",[t._v("比如，div 的规则是这样的：")]),t._v(" "),t._m(132),a("p",[t._v("现在仍是从 标签映射表 中提取，但是 key 是最右边的选择器，但是它不会匹配上面的 div，因为它没有 table 祖先。")]),t._v(" "),a("p",[t._v("对于上面的问题，Webkit 和 Firefox 都做了相应的操作（manipulation）。")]),t._v(" "),t._m(133),t._v(" "),a("p",[t._v("样式对象的属性与每个视觉属性相对应。如果某个属性没有被任何匹配的规则所定义，那么就可以从父级元素的样式对象上继承某些属性。其他的属性使用默认值。")]),t._v(" "),a("p",[t._v("当有多个定义时，问题就出现了——层级顺序就是为了解决这个问题的。")]),t._v(" "),t._m(134),t._v(" "),a("p",[t._v('一个样式属性的声明可以在多个样式表中出现，也可在同个样式表中出现多次。这就意味着规则的应用顺序非常重要。这叫作 "层级" 顺序。\n根据 CSS2 的规范，层级顺序如下（从低到高）：')]),t._v(" "),t._m(135),t._v(" "),a("p",[t._v("浏览器声明是最不重要的，用户声明仅在设为重要（important）时才会覆盖作者的声明。\n顺序相同的声明会根据指定的顺序来分类，然后按指定的顺序来排序。\nHTML 视觉属性会被翻译并匹配 CSS 的声明。这些被认为是低优先级的用户规则。")]),t._v(" "),t._m(136),t._v(" "),a("p",[t._v("选择器顺序指定由 CSS2 规范规定，具体如下：")]),t._v(" "),t._m(137),t._v(" "),a("p",[t._v("连接数字 a-b-c-d （在一个大型的数字系统中）算出指定顺序。")]),t._v(" "),a("p",[t._v("需要用到的基数由以上四个类型中数字最大的来决定。")]),t._v(" "),a("p",[t._v("比如说，a = 14，那么可以使用十六进制。当 a = 17时，需要一个17位数的基数。\n后者发生的情况是有一个类似于这样的选择器：html body div div p ... (选择器中有17个标签，虽然可能性不是很大)。")]),t._v(" "),a("p",[t._v("一些示例：")]),t._v(" "),t._m(138),t._m(139),t._v(" "),a("p",[t._v("样式规则匹配完成后，会根据层级规则对其进行排序。\n对于数据量小的列表，Webkit 使用冒泡排序（bubble sort），而对于数据量大的列表，使用混合排序（merge sort）。")]),t._v(" "),a("p",[t._v("Webkit 通过重写 “>” 操作符为下面的规则实现排序：")]),t._v(" "),t._m(140),t._m(141),t._v(" "),a("p",[t._v("Webkit 使用一个标志来标记顶层样式表是否加载完成（包括 @imports）。\n当使用样式时，发现样式没有完全加载完成，将会使用占位符，并且在文档中进行标记，当样式加载完成时，会重新进行计算。")]),t._v(" "),t._m(142),t._v(" "),a("p",[t._v("渲染器创建完成并被添加到渲染树时，它没有位置（position）和 大小（size）。")]),t._v(" "),a("p",[t._v("计算这些值的过程叫作 布局（layout）和 回流（reflow）。")]),t._v(" "),a("p",[t._v("HTML 使用基于流的布局模型，这意味着大多数时候能一次性计算出几何结构。\n流后面的元素不会影响流前面的元素的几何结构。所以布局可以按从左到右、从上到下的顺序进行。\n但也有例外——比如 tables，就需要多次计算（"),a("a",{attrs:{href:"http://taligarsiel.com/Projects/howbrowserswork1.htm#3_5",target:"_blank",rel:"noopener noreferrer"}},[t._v("3.5"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("p",[t._v("坐标系统和根框架相关，使用上侧和左侧坐标。")]),t._v(" "),a("p",[t._v("布局是一个递归的过程。从根渲染器开始，与 HTML 文档的元素相对应。布局会在其中一些或所有框架层级中持续递归，为每个渲染器计算几何信息。")]),t._v(" "),a("p",[t._v("根渲染器的位置是 0,0，它的大小是视口大小——浏览器窗口的可视部分。")]),t._v(" "),a("p",[t._v("所有的渲染器都有一个 layout（布局） 和 reflow（回流） 方法，每个渲染器都会调用那些需要布局的子渲染器的 layout 方法。")]),t._v(" "),t._m(143),t._v(" "),a("p",[t._v("为了避免为每个小的变动都进行一次完整的布局，浏览器使用了脏值系统。")]),t._v(" "),a("p",[t._v("一个渲染器改变或添加了之后会标记自己及其子代为“dirty”——需要布局。")]),t._v(" "),a("p",[t._v("有两种标志——“dirty”和“children are dirty”。后者意味着虽然渲染器本身没问题，但是它至少有一个需要布局的子代。")]),t._v(" "),t._m(144),t._v(" "),a("p",[t._v("布局能在整个渲染树上触发——这就是全局布局（global layout）。以下几种情形会引起全局布局：")]),t._v(" "),t._m(145),t._v(" "),a("p",[t._v("布局可以是递增的，只有脏的渲染器会被布局（这可能会导致某些不好的影响，会引起额外的布局）。")]),t._v(" "),a("p",[t._v("渲染器脏了就会（异步地）触发递增布局（incremental layout）。比如，当网络请求到新的内容，添加到 DOM 树后，就会有新的渲染器被添加到渲染树。")]),t._v(" "),t._m(146),t._v(" "),t._m(147),t._v(" "),t._m(148),t._v(" "),a("p",[t._v("递增布局是异步完成的。Firefox 会为递增布局进行“回流请求”（reflow commands）排队，然后通过调度程序触发这些请求的批量执行。Webkit 也有一个执行递增布局的定时器——遍历渲染树，布局脏渲染器。")]),t._v(" "),a("p",[t._v("请求样式信息，如 “offsightHeight” 的脚本会触发同步递增布局。\n全局布局通常都是同步触发的。")]),t._v(" "),a("p",[t._v("有时候初始布局后的回调也会触发布局，因为一些属性（比如滚动位置）发生改变。")]),t._v(" "),t._m(149),t._v(" "),a("p",[t._v("如果布局的触发是由于大小调整（resize）或者渲染器的位置（position）改变——而不是大小改变，渲染器的大小会从缓存中获取，不会重新计算。")]),t._v(" "),a("p",[t._v("在某些情况下，当只有子渲染树改变时，布局不会从根节点开始。发生这种情况的情形有：局部改变，不会影响周围——比如文本插入到文本域中。否则的话，每次按键都会触发从根节点开始的布局。")]),t._v(" "),t._m(150),t._v(" "),a("p",[t._v("布局通常有下面几种模式：")]),t._v(" "),t._m(151),t._v(" "),a("p",[t._v("Firefox 使用状态（state）对象（nsHTMLReflowState）作为 layout 方法的参数（术语叫“reflow”）。其中包含了父渲染器的宽度。")]),t._v(" "),a("p",[t._v("Firefox layout 方法的输出是一个度量（metrics）对象（nsHTMLReflowMetrics）。它包含渲染器计算的高度。")]),t._v(" "),t._m(152),t._v(" "),a("p",[t._v("渲染器的宽度是使用容器块的宽度——渲染器的样式 “width” 属性和 margins 和 borders 来计算的。")]),t._v(" "),a("p",[t._v("比如下面 div 的宽度：")]),t._v(" "),t._m(153),a("p",[t._v("Webkit 的计算方式如下（RenderBox类，calcWidth方法）：")]),t._v(" "),t._m(154),t._v(" "),t._m(155),a("p",[t._v("clientWidth 和 clientHeight 指的是一个对象的内部宽高，除去边（border）和滚动条（scrollbar）。")]),t._v(" "),t._m(156),t._v(" "),a("p",[t._v("目前为止，这是“首选宽度”（preferred width）的计算，接下来计算最小宽度和最大宽度（minimum and maximum width）。如果首选宽度的值比最大宽度的值大，将使用最大宽度的值。如果首选宽度的值小于最小宽度的值（最小的不可分割的单位），将使用最小宽度的值。")]),t._v(" "),a("p",[t._v("这些值会缓存起来，以防在宽度没有改变的情况下需要重新布局。")]),t._v(" "),t._m(157),t._v(" "),a("p",[t._v("在一个渲染器在布局过程中发现需要折行，它会停下来，通知父渲染器它需要折行。父渲染器就会创建额外的渲染器，然后调用这些渲染器的layout方法。")]),t._v(" "),t._m(158),t._v(" "),a("p",[t._v("在绘制阶段，会遍历渲染器树，调用渲染器的 paint 方法，在屏幕上排列内容。绘制使用 UI 基础组件，可以查看 UI 章节了解更多。")]),t._v(" "),t._m(159),t._v(" "),a("p",[t._v("和布局（layout）一样，绘制也可以是全局的——整个树绘制，或递增绘制。在递增绘制时，有些渲染器会以某种方式改变，但不会影响整个树。改变了的渲染器会使自己在屏幕上的矩形位置无效。这会使得 OS 认为它是脏区域，然后生成一个 paint 事件。OS 巧妙地处理，然后将这些区域合并成一个。在 Chrome 中更加复杂，因为渲染器和主流程不在同一个进程中。Chrome 中某些程度上模仿了 OS。绘制过程（presentation）监听这些事件，并将信息传递给渲染根节点。它会遍历渲染树，直到找到相关的渲染器。它会重新绘制自己（通常也会重新绘制它的子级）。")]),t._v(" "),t._m(160),t._v(" "),a("p",[t._v("CSS2 规定了绘制程序的顺序——"),a("a",{attrs:{href:"http://www.w3.org/TR/CSS21/zindex.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.w3.org/TR/CSS21/zindex.html"),a("OutboundLink")],1),t._v("。这实际上就是元素在"),a("a",{attrs:{href:"http://taligarsiel.com/Projects/howbrowserswork1.htm#stackingcontext",target:"_blank",rel:"noopener noreferrer"}},[t._v("层叠上下文（stacking context）"),a("OutboundLink")],1),t._v("中如何层叠的顺序。")]),t._v(" "),a("p",[t._v("这个顺序影响了绘制，因为层叠是从后到前的顺序绘制的。一个块级渲染器的层叠顺序如下：")]),t._v(" "),t._m(161),t._v(" "),t._m(162),t._v(" "),a("p",[t._v("Firefox 遍历渲染树，然后为绘制的矩形创建一个排列列表。它包含了与矩形相对应的按正确绘制顺序（渲染器的 backgrounds，borders 等）排序的渲染器。")]),t._v(" "),a("p",[t._v("这样，渲染树只需要遍历一次，而不用遍历很多次——绘制所有的背景、所有的图片、所有的边等。")]),t._v(" "),a("p",[t._v("Firefox 对绘制过程做了优化：不添加看不见的元素，如完全位于不透明元素下面的元素。")]),t._v(" "),t._m(163),t._v(" "),a("p",[t._v("在重新绘制前，webkit 将老的矩形存储为位图，然后只绘制这些处于新老矩形之间的区域。")]),t._v(" "),t._m(164),t._v(" "),a("p",[t._v("浏览器尝试对变化采取最小可能的行为。所以元素颜色的变化只会导致元素的重绘。元素位置的变化会导致元素及其子代或者同级元素的布局和重绘。增加 DOM 节点会导致节点的布局和重绘。重要的改变，如 html 元素的 font size，会导致缓存无效，然后触发整个树的重新布局和重绘。")]),t._v(" "),t._m(165),t._v(" "),a("p",[t._v("渲染引擎是单线程。几乎所有的操作，除了网络操作，都是单线程。在 Firefox 和 Safari 中，这是浏览器的主线程。\n在 Chrome 中，渲染引擎是 tab 进程的主线程。")]),t._v(" "),a("p",[t._v("网络操作可以以多个并行线程的方式执行。并行连接的个数有限制（通常是2-6个，Firefox3 使用 6个）。")]),t._v(" "),t._m(166),t._v(" "),a("p",[t._v("浏览器的主线程是一个事件循环。它是使进程保持活跃的无限循环。它等待事件（比如 layout 和 repaint事件），然后处理它们。下面是 Firefox 主要事件循环的代码：")]),t._v(" "),t._m(167),t._m(168),t._v(" "),t._m(169),t._v(" "),a("p",[t._v("根据 "),a("a",{attrs:{href:"http://www.w3.org/TR/CSS21/intro.html#processing-model",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS2 规范"),a("OutboundLink")],1),t._v("，术语 canvas 就是 “渲染格式化的结构的空间”——浏览器绘制内容的地方。")]),t._v(" "),a("p",[t._v("根据 "),a("a",{attrs:{href:"http://www.w3.org/TR/CSS2/zindex.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.w3.org/TR/CSS2/zindex.html"),a("OutboundLink")],1),t._v("，被包含在其他 canvas 中的 canvas 是透明的，否则，就给定一个浏览器定义好的颜色。")]),t._v(" "),t._m(170),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.w3.org/TR/CSS2/box.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS 盒模型"),a("OutboundLink")],1),t._v("描述了在文档树中为元素生成的矩形盒子，然后通过视觉格式模型对其布局。每个盒子有一个内容区域（比如 text，image等），以及可选的周边区域，如内边距、边、外边距。")]),t._v(" "),t._m(171),t._v(" "),t._m(172),t._v(" "),a("p",[t._v("每个节点生成 0-n 个这样的盒子。")]),t._v(" "),a("p",[t._v("每个元素都有一个 display 属性，决定了如何生成它们的盒子的类型。")]),t._v(" "),a("p",[t._v("比如：")]),t._v(" "),t._m(173),a("p",[t._v("默认是 inline，但是浏览器样式表可以设置其他默认值。比如，div 元素的默认值是 block.")]),t._v(" "),a("p",[t._v("关于默认样式表的例子，可以查看"),a("a",{attrs:{href:"http://www.w3.org/TR/CSS2/sample.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.w3.org/TR/CSS2/sample.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(174),t._v(" "),a("p",[t._v("有三种定位方案：")]),t._v(" "),t._m(175),t._v(" "),a("p",[t._v("定位方案由 position 属性和 floate 属性决定：")]),t._v(" "),t._m(176),t._v(" "),a("p",[t._v("在 static 定位中，不定义任何位置，并使用默认定位。在其他方案下，作者定义位置——top、bottom、left、right。")]),t._v(" "),a("p",[t._v("盒子布局的方法由下面这些条件决定：")]),t._v(" "),t._m(177),t._v(" "),t._m(178),t._v(" "),a("p",[t._v("块级盒子：形成一个块——在浏览器窗口中有自己的矩形区域。")]),t._v(" "),t._m(179),t._v(" "),t._m(180),t._v(" "),a("p",[t._v("行内盒子：没有自己的块，包含在块中。")]),t._v(" "),t._m(181),t._v(" "),t._m(182),t._v(" "),a("p",[t._v("块级盒子按垂直方向排列，行内盒子按水平方向排列。")]),t._v(" "),t._m(183),t._v(" "),t._m(184),t._v(" "),a("p",[t._v("行内盒子被放置在行内或行盒子中，当盒子以 baseline 的方式——元素的底部和另一个元素的某个点对其——来对齐时，这些行的高度至少和最高的盒子一样高，但是不能比它高。如果行的宽度不够宽，行会被放到很多行中。在 paragraph 中经常出现。")]),t._v(" "),t._m(185),t._v(" "),t._m(186),t._v(" "),t._m(187),t._v(" "),t._m(188),t._v(" "),a("p",[t._v("相对定位——像往常一样定位然后按要求的delta移动。")]),t._v(" "),t._m(189),t._v(" "),t._m(190),t._v(" "),t._m(191),t._v(" "),a("p",[t._v("一个浮动盒子会被移动到行的左边或右边。有趣的是其他盒子围绕它流动。比如下面的 HTML：")]),t._v(" "),t._m(192),t._m(193),t._v(" "),t._m(194),t._v(" "),t._m(195),t._v(" "),a("p",[t._v("无论正常流如何，都会精确定义布局。元素不会出现在正常流中。元素的大小是相对于容器的。在 fixed 中，容器是视口。")]),t._v(" "),t._m(196),t._v(" "),t._m(197),t._v(" "),t._m(198),t._v(" "),t._m(199),t._v(" "),a("p",[t._v("它由 z-index 属性决定。代表了元素的第三个尺寸，它的 z 轴位置。")]),t._v(" "),a("p",[t._v("盒子被分成层级（叫做层级上下文）。在层级中，后面的元素会先绘制，前面的元素会绘制在上面，更接近用户。")]),t._v(" "),a("p",[t._v("层级根据 z-index 属性来排序。具有 z-index 属性的盒子形成本身的层级。视口有外部层级。")]),t._v(" "),a("p",[t._v("比如：")]),t._v(" "),t._m(200),a("p",[t._v("结果如下：")]),t._v(" "),t._m(201),t._v(" "),t._m(202),t._v(" "),a("p",[t._v("虽然红色 div 位于绿色之前，并且之前已经在常规流中绘制过，但是z-index属性更高，因此它在根框所持有的堆栈中更向前。")]),t._v(" "),t._m(203),t._v(" "),a("p",[t._v("http://taligarsiel.com/Projects/howbrowserswork1.htm")])])},e,!1,null,null,null);s.default=r.exports}}]);