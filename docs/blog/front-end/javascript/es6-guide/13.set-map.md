---
_title: Set 和 Map 数据结构
description: ES6
sidebar: auto
displayAllHeaders: true
tag: JavaScript
public: false
---

# Set 和 Map 数据结构

## Set

Set 本身是一个构造函数，用来生成 Set 数据结构。

Set 函数可以接受一个数组（或具有 iterator 接口的其他数据结构）作为参数，来初始化。

```js
const set = new Set([1, 2, 3, 4, 5, 5, 4, 3, 2, 1]);
console.log(set); // Set(5) {1, 2, 3, 4, 5}
```

## Set 实例的属性和方法

属性：

- Set.prototype.constructor
- Set.prototype.size

方法：

- Set.prototype.add()
- Set.prototype.delete()
- Set.prototype.has()
- Set.prototype.clear()

## 遍历操作

- keys()
- values()
- entries()
- forEach()

## WeakSet

- WeakSet 的成员只能是对象

```js
const weakSet = new WeakSet();
weakSet.add(1); // Uncaught TypeError: Invalid value used in weak set
```

- WeakSet 中的对象都是弱引用

方法：

- add()
- delete()
- has()

用处：存放 DOM 节点，不用担心节点从文档移除时，会导致内存泄漏。



