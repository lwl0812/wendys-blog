---
_title: 对象的新增方法
description: ES6
sidebar: auto
displayAllHeaders: true
tag: JavaScript
public: false
---

# 对象的新增方法

比较两个值是否相等：```==``` 或  ```===```。

```==``` 的缺点：自动转换数据类型。

```===``` 的缺点：NaN 不等于自身，+0 等于 -0。

新增方法：```Object.is()```

```js
console.log(NaN === NaN); // false
console.log(+0 === -0); // true
console.log(Object.is(NaN, NaN)); // true
console.log(Object.is(+0, -0)); // false
```

ES5 环境模拟：

```js
Object.defineProperty(Object, 'Is', {
  value: function(a, b) {
    if (a === b) {
      // 针对 +0 和 -0
      return a !==0 || 1 / a === 1 / b; // 注 Infinity 和 -Infinity 不相等，1 / 0 为 Infinity，1 / -0 为 -Infinity
    }
    // 针对 NaN
    return a !== a && b !== b;
  },
  writable: true,
  enumerable: false,
  configurable: false,
});

console.log(Object.Is(NaN, NaN)); // true
console.log(Object.Is(0, -0)); // false
console.log(Object.Is(0, 0)); // true
console.log(Object.Is({}, {})); // false
```

